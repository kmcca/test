---
"ft:title" : "Azure DevOps YAML Properties for Upload and Scan"
"ft:prettyUrl" : "Azure_DevOps_YAML_Properties_for_Upload_and_Scan"
---
This table describes the properties and their values for adding the Veracode Upload and Scan task to an Azure DevOps or Team Foundation Server (TFS) build pipeline using YAML.

| Property                                     | Type    | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
|----------------------------------------------|---------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| `ConnectionDetailsSelection`<br>**Required** | String  | One of these methods for connecting to Veracode:<ul><li>`Endpoint` to use an existing service connection that includes your [Veracode API credentials](https://docs.veracode.com/r/c_api_credentials3). Include `AnalysisService` to specify a service connection name.</i><li>`Credentials` to enter your Veracode API credentials. Include `apiId` to enter your API ID and `apiKey` to enter your API key.</li></ul>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| `veracodeAppProfile`<br>**Required**         | String  | Name of the [Veracode application profile](https://docs.veracode.com/r/request_profile). The name is case-sensitive.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| `version`<br>**Required**                    | String  | Name of the scan. You can enter the `$buildnumber` or `$projectname` variables to dynamically bind the build number or project name to the scan name, instead of using a fixed scan name.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| `filepath`<br>**Required**                   | String  | Filepath to either an application artifact or a folder containing multiple artifacts to upload to Veracode.You can also upload multiple artifacts using one or more ZIP archives. To prepare the artifacts: <ol><li>Add the artifacts to one or more ZIP archives.</li><li>Ensure the ZIP archives are in the same upload file path location.</li><li>Prepare the ZIP archives for uploading to Veracode using a separate build step or build steps in your pipeline.</li></ol>For a .NET application, if you have additional published projects from a solution, include them in the archive to upload and analyze. Add any JavaScript files to a separate ZIP archive according to the packaging instructions in the [Veracode Packaging Requirements](https://docs.veracode.com/r/compilation_packaging). Include only the file types for languages and platforms that Veracode can scan in a ZIP archive to improve uploading and scan speed. Microsoft provides this Archive Files task: [https://docs.microsoft.com/en-us/azure/devops/pipelines/tasks/utility/archive-files?view=azure-devops](https://docs.microsoft.com/en-us/azure/devops/pipelines/tasks/utility/archive-files?view=azure-devops). ||
| `AnalysisService`                            | String  | If you set `ConnectionDetailsSelection` to `Endpoint`, the name of the service connection for accessing Veracode.<br>If a service connection does not exist, you can [create a new service connection](https://docs.veracode.com/r/Create_a_Service_Connection_in_Azure_DevOps).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| `apiId`                                      | String  | If you set `ConnectionDetailsSelection` to `Credentials`, your Veracode API ID.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| `apiKey`                                     | String  | If you set `ConnectionDetailsSelection` to `Credentials`, your Veracode API key.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| `sandboxName`                                | String  | For development sandbox scans, the name of the sandbox in which to run the scan. If the sandbox does not exist, include `createSandBox` to create it with the specified name.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| `createSandBox`                              | Boolean | For development sandbox scans, create a sandbox for the specified Veracode application. Set to `true` to create a sandbox. Set to `false` to not create a sandbox.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| `optargs`                                    | String  | Any optional parameters from the [uploadandscan](https://docs.veracode.com/r/r_uploadandscan) API to include in the scan. For example:<br><br>```-include mymodule1.jar,mymodule2.jar,*.js -createsandbox true -sandboxname mysandbox```<p style="background-color:#FFFCF3; padding: 12px; border-left: 5px solid #F7CD55;"> <b>Note:</b> Do not enclose any of the values in single or double quotations.</p>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| `createProfile`                              | Boolean | Create a Veracode application profile, if one does not exist, for the specified application profile name. Set to `true` to create a profile. Set to `false` to not create a profile.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| `failBuildIfUploadAndScanBuildStepFails`     | Boolean | Fail the build if the Veracode Upload and Scan build step fails to start. Set to `true` to fail the build. Set to `false` to allow the build to continue.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| `importResults`                              | Boolean | Import scan results into Azure DevOps after the scan completes. Set to `true` to import results. Set to `false` to not import results. You can view the results on the **Veracode Scan Summary** tab.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| `failBuildOnPolicyFail`                      | Boolean | Fail the build if the scan results indicate that the application has failed your [security policy](https://docs.veracode.com/r/c_appsec_policies). Set to `true` to fail the build. Set to `false` to not fail the build.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| `maximumWaitTime`                            | Integer | Build agent wait time, in minutes, to fail the build if no scan results are available. The value range is `30` to `1440` (24 hours) and the default is `360` (6 hours). If you enter a value outside this range, the build fails.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
